<!DOCTYPE html>
<html lang="en">
	<head>
	  <meta charset="utf-8">
	  <meta http-equiv="X-UA-Compatible" content="IE=edge">
	  <meta http-equiv="Cache-control" content="max-age=3600">
	  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	  <title>Verbal+Visual</title>

	   <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		
		<!-- Style overrides -->
		<link rel="stylesheet" href="style.css">

		<link href="https://fonts.googleapis.com/css?family=Karla:400,700" rel="stylesheet">
		<script src="https://use.fontawesome.com/934d09d5de.js"></script>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

		<!-- progressive image loader -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazy/1.7.4/jquery.lazy.min.js"></script>
  </head>
	<body>
		<div class="loading" data-src="loading.gif">
	  	<div class="wrapper" data-src="image1.jpg">
	      <div class="jumbotron container-fluid">
	        <img src="arrow-down.png" data-src="arrow-down.png" class="arrow arrow-down">
	        <div class="row">
	          <div class="clearfix hidden-sm-up"></div>
	          <div class="col-sm-8 col-md-5 col-sm-offset-4 col-md-offset-7">
	            <section class="lazy" data-type="content">
	              <h1>
				        	From <span>Factory</span>
				        	to <span>store</span> 
				        	to <span>out the door.</span>
			        	</h1>
	              <p>
	                ABC Creations offers <span>international end-to-end apparel</span> manufacturing solutions for forward-thinking clothing brands.
	              </p>
	              <div class="gradient-wrapper"></div>
	              <div class="btn-container">
	                <a class="btn btn-lg" href="#" role="button">Our process</a>
	                <a class="btn btn-lg" href="#" role="button">Our products</a>
	              </div>
	            </section>
	          </div>
	        </div>
	      </div>
	    </div>

	    <nav class="navbar navbar-fixed-bottom">
	      <div class="container">
	        <div class="navbar-header">
	          <button type="button" class="navbar-toggle collapsed" aria-expanded="false">
	            <i class="fa fa-bars fa-2x"></i>
	          </button>
	          <a class="navbar-brand" href="#">ABC Creations</a>
	        </div>
	        <div class="collapse navbar-collapse">
	          <div class="nav navbar-nav navbar-right">
	            <button type="button" class="btn-link">
	              <i class="fa fa-bars fa-2x"></i>
	            </button>
	          </div>
	        </div>
	      </div>
	    </nav>

	    <div class="container main">
	      <div class="row">
	        <div class="col-sm-12 text-center">
	          <h2 data-type="content">Second Section Header</h2>
	          <div class="img-container" data-type="background" data-speed="9" data-src="image2.jpg">
	            <div class="line-wrapper" data-type="content"></div>
	          </div>
	          <img src="arrow-up.png" class="arrow arrow-up hvr-icon-wobble-vertical">
	        </div>
	      </div>
	      <footer class="text-center">
	        <div class="footer-header">
	          <h4>Footer Title</h4>
	        </div>
	        <div class="footer-links">
	          <ul class="list-unstyled">
	            <li><a href="#">Footer link 1</a></li>
	            <li><a href="#">Footer link 2</a></li>
	            <li><a href="#">Footer link 3</a></li>
	            <li><a href="#">Footer link 4</a></li>
	          </ul>
	        </div>
	      </footer>
	    </div>
  	</div>
	<script>
	$(document).ready(function() {
		/**
		* Event handlers for image loaders and
		* a listener to disable scrolling while 
		* loading gif and fade effect are executed
		*
		* 'Scroll' is re-enabled in several places
		* to prevent disruption to the effect if
		* the user attempts to scroll before the
		* image is loaded
		*/
		$('.loading').lazy({
		  bind: "event",
		  afterLoad: function() {
		    $('html').css('overflow-y', 'hidden');
		    setTimeout(function() {
		      $('html').css('overflow-y', 'scroll');
		    }, 1000);
		  }
		});

    $('.wrapper').lazy({
      bind: "event",
      effect: "fadeIn",
      effectTime: 1000,
      threshold: 0,
      afterLoad: function(element){
		   	setTimeout(function() {       
         }, 1000);
		    $('body', 'html').css('overflow-y', 'scroll');
			 }
    });

   	$('.img-container').lazy({
			bind: "event",
			effect: "fadeIn",
			effectTime: 1000,
			threshold: 0
		});

    /**
		* Calculate difference between pageY coordinates 
		* when first mousing over the button container and when
		* mouse entering an actual button. If the first value
		* is greater, reverse the hover animation direction. 
		*/
		$('.gradient-wrapper').mouseover(function(event) {
		  var firstCoord = event.pageY;
		  $('.btn').each(function() {
		    $(this).mouseenter(function(event) {
		      var secondCoord = event.pageY;
		      if (firstCoord > secondCoord) {
		        $(this).addClass('btn-reverse');
		      } else {
		        $(this).removeClass('btn-reverse');
		      }
		    });
		  });
		});

		/**
		* Attach navbar to top of page upon initial scrolldown,
		* return it to bottom of page upon scrolling back up,
		* and simulate a Firefox-friendly animation.
		* Classes are removed in different order to 
		*/
		$(window).scroll(function () {
			var winHeight = $(window).height();
			var sectionHeight = $('.jumbotron').height();
			var navHeight = $('.navbar').height();
			if ($(window).scrollTop() > 10) {	
				$('.navbar-fixed-bottom').removeClass("navbar-fixed-bottom")
					.animate({
					top: 0,
					bottom: winHeight
				}, 1000).addClass("navbar-fixed-top");
			} else {
				$('.navbar-fixed-top').removeClass("navbar-fixed-top")
					.animate({
						bottom: 0,
						top: sectionHeight - navHeight
					}, 1000).addClass("navbar-fixed-bottom")
			}
		});

		/**
		* Scroll user below the fold on arrow click
		* and add smooth scrolling effect
		*/
		$(function() {
			$('.arrow-down').on('click', function() {
		    var sectionHeight = $('.jumbotron').height();
		    $('html,body').animate({
		      scrollTop: sectionHeight
		    }, 1000)
		  });
		  $('.arrow-up').on('click', function() {
		    $('html,body').animate({
		      scrollTop: 0
		    }, 1000)
		  });
		});

		/** 
		* Credit to https://codepen.io/hendrysadrak/pen/ctgaz
		*/
		function parallaxIt() {
		  var $fwindow = $(window);
		  var scrollTop = window.pageYOffset || document.documentElement.scrollTop;
		  var $contents = [];
		  var $backgrounds = [];
		  $('[data-type="content"]').each(function(index, e) {
		    var $contentObj = $(this);
		    $contentObj.__speed = ($contentObj.data('speed') || 1);
		    $contentObj.__fgOffset = $contentObj.offset().top;
		    $contents.push($contentObj);
		  });
		  $('[data-type="background"]').each(function() {
		    var $backgroundObj = $(this);
		    $backgroundObj.__speed = ($backgroundObj.data('speed') || 1);
		    $backgroundObj.__fgOffset = $backgroundObj.offset().top;
		    $backgrounds.push($backgroundObj);
		  });
		  $fwindow.on('scroll resize', function() {
		    scrollTop = window.pageYOffset || document.documentElement.scrollTop;
		    $contents.forEach(function($contentObj) {
		      var yPos = $contentObj.__fgOffset - scrollTop / $contentObj.__speed;
		      $contentObj.css('top', yPos);
		    })
		    $backgrounds.forEach(function($backgroundObj) {
		      var yPos = -((scrollTop - $backgroundObj.__fgOffset) / $backgroundObj.__speed);
		      $backgroundObj.css({
		        backgroundPosition: '20% ' + yPos + 'px'
		      });
		    });
		  });
		  $fwindow.trigger('scroll');
		};
		parallaxIt();
		});
	</script>
  </body>
</html>
